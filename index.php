<?phpdefine('APP_ID', '141843382572716');define('APP_SECRET', '2a4bfe0b0671e6d785af912cd81d269e');function get_facebook_cookie($app_id, $app_secret) {  $args = array();  parse_str(trim($_COOKIE['fbs_' . $app_id], '\\"'), $args);  ksort($args);  $payload = '';  foreach ($args as $key => $value) {    if ($key != 'sig') {      $payload .= $key . '=' . $value;    }  }  if (md5($payload . $app_secret) != $args['sig']) {    return null;  }  return $args;}$cookie = get_facebook_cookie(APP_ID, APP_SECRET);/*error:https:// wrapper is disabled in the server configuration by allow_url_fopen=0$user = json_decode(file_get_contents(    'https://graph.facebook.com/me?access_token=' .    $cookie['access_token'])); */?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><head>   <meta http-equiv="Content-type" content="text/html; charset=utf-8">   <title>Campus Wave</title></head>   <script type="text/javascript" src="./scripts/jquery-1.6.1.js"></script>      <script src="./scripts/dhtmlxScheduler/codebase/dhtmlxscheduler.js" type="text/javascript" charset="utf-8"></script>   <link rel="stylesheet" href="./scripts/dhtmlxScheduler/codebase/dhtmlxscheduler.css" type="text/css" media="screen" title="no title" charset="utf-8">	<script src="./scripts/dhtmlxScheduler/codebase/ext/dhtmlxscheduler_minical.js" type="text/javascript" charset="utf-8"></script>	<link rel="stylesheet" href="./scripts/dhtmlxScheduler/codebase/ext/dhtmlxscheduler_ext.css" type="text/css" media="screen" title="no title" charset="utf-8">   <div id="fb-root"></div>   <script src="http://connect.facebook.net/en_US/all.js"></script>   <script>      FB.init({          appId:'141843382572716', cookie:true,          status:true, xfbml:true       });      FB.Event.subscribe('auth.login', function(response) {        window.location.reload();      });   </script>   <style type="text/css" media="screen"> <!-- html   {		margin:0px;		padding:0px;		height:100%;		background-image: url("./images/cp_background.jpg");		background-width:100%;		background-height:1800px;		background-repeat: no-repeat;		 	}	body   {		margin:0px;		padding:0px;		height:100%;		padding-bottom:30px;overflow-y: scroll;	   }      .Header	{		background-repeat:repeat-x;		visibility : visible;		margin-top:-8;margin-left:-8; margin-right:-7;		height:110px;		width:810px;	}footer	{		height:100px;	}a:link{		color:#F9D500;} #backgroundPopup{  		display:none;  		position:fixed;  		_position:absolute; /* hack for internet explorer 6*/  		height:100%;  		width:100%;  		top:0;  		left:0;  		background:#ffffff;  		border:1px solid #cecece;  		z-index:3;   }   #popupContact{   		display:none; 		position:fixed;  		_position:absolute; /* hack for internet explorer 6*/  		height:387px;  		width:575px;  		background-image:url('./images/popup.png');		z-index:4;  		padding:12px;  		font-size:13px;  }  #popupContactClose{  		font-size:14px;  		line-height:14px;  		right:6px;  		top:4px;  		position:absolute;  		color:#6fa5fd;  		font-weight:700;  		display:block;  }  #tabMenu {		margin:0;		padding:0;		list-style:none;}#tabMenu li {		padding:0 5px 0 0;		text-align:center;		float:left;		height:28px;		width:102px;		cursor:pointer;		cursor:hand;}.box li{		background:url(images/tab.png) no-repeat 0 -28px;		color:#3d5169;		font-weight:bold;		line-height:28px;		vertical-align:middle;		}.box li.mouseover {		background-position:0 0;		color:white;}.box li.mouseout {		background-position:0 -28px;		color:#3d5169;}.box li.selected {		background-position:0 0;		color:white;}.box {		width:300px;		position:relative;		top:50px;		left:20px;		z-index:5;}.boxBody {		background-image: -webkit-gradient(linear,left bottom,left top,			color-stop(0.11, rgb(51,54,71)),			color-stop(1, rgb(70,99,131)));		background-image: -moz-linear-gradient(center bottom,			rgb(51,54,71) 11%,			rgb(70,99,131) 100%);		fontsize:'12px';		color:white;		height: 155px;}.boxBottom {		background:url(images/boxBottom.gif) no-repeat;height:11px;}.boxBody div {		display:none;}.boxBody div.show {		display:block;}.boxBody #category a {		display:block;}.boxTop {		clear:both}.boxBody a{		color:#a6cdca;}.boxBody a:hover, .boxBody a:active{		color:#84aba8;}.boxBody table{		padding-left:20px;}.boxBody td{		padding-top:5px;		text-align:right;} --></style><script type="text/javascript" charset="utf-8">	function init() {			scheduler.form_blocks["campus_editor"]={			render:function(sns){				return "<div class=\"dhx_cal_ltext\" style=\"height:60px;\"><textarea rows=\"3\" cols=\"25\" readonly=\"readonly\">This is a readonly description </textarea></div>";			},			set_value:function(node,value,ev){				node.childNodes[1].value=value||"";				node.childNodes[4].value=ev.details||"";			},			get_value:function(node,ev){				ev.location = node.childNodes[4].value;				return node.childNodes[1].value;			},			focus:function(node){				var a=node.childNodes[1]; a.select(); a.focus(); 			}		}				/*scheduler.form_blocks["campus_event_title"]={			render:function(sns){							return "<div class='campus_event_title' style='height:10px;'><form><label>Title<img src='/images/title.jpg' alt='title' /> </label></form></div>";			},			set_value:function(node,value,ev){ //this is a place holder				node.firstChild.value=value||"";				node.firstChild.disabled = ev.disabled;			}		}*/				scheduler.form_blocks["campus_organizer"]={			render:function(sns){							return "<label id='Organizer' style='height:50px;'>This is organizer</label><label id='name'></label>";			},			set_value:function(node,value,ev){ //this is a place holder				node.firstChild.value=value||"";				node.firstChild.disabled = ev.disabled;			}		}				scheduler.config.lightbox.sections=[			/*{ name:"title", height:10, map_to:"auto", type:"campus_event_title"},*/						{name:"eventtype", height:21, type:"select", map_to:"rec_type", options:[					{key:"0", label:"Sports"},					{key:"1", label:"Guest Speaker"},					{key:"2", label:"Social Gathering"},					{key:"3", label:"Other"}			]},															{ name:"organizer", height:50,map_to:"",type:"campus_organizer" },			{ name:"description", height:200, map_to:"text", type:"textarea", focus:true },					{ name:"time", height:72, type:"time", map_to:"auto"},						{name:"location", height:21, type:"select", map_to:"rec_type", options:[					{key:"0", label:"Canada"},					{key:"1", label:"US"},					{key:"2", label:"England"},					{key:"3", label:"Other"}			]}		]				scheduler.config.multi_day = true;				scheduler.config.xml_date="%Y-%m-%d %H:%i";		scheduler.init('scheduler_here',null,"week");		scheduler.load("./samples/01_initialization_loading/php/events.php");                	}		function show_minical(){		if (scheduler.isCalendarVisible())			scheduler.destroyCalendar();		else			scheduler.renderCalendar({				position:"dhx_minical_icon",				date:scheduler._date,				navigation:true,				handler:function(date,calendar){					scheduler.setCurrentView(date);					scheduler.destroyCalendar()				}			});	}				//POPUP  	//0 means disabled; 1 means enabled;  	var popupStatus = 0;  		function loadPopup(){  		if(popupStatus==0){  			$("#backgroundPopup").css({  			"opacity": "0.8"  			});  			$("#backgroundPopup").fadeIn("slow");  			$("#popupContact").fadeIn("slow");  			popupStatus = 1;  		}  	}  		function disablePopup(){  		if(popupStatus==1){  			$("#backgroundPopup").fadeOut("slow");  			$("#popupContact").fadeOut("slow");  			popupStatus = 0;  		}  	}  		function centerPopup(){   		var windowWidth = document.documentElement.clientWidth;  		var windowHeight = document.documentElement.clientHeight;  		var popupHeight = $("#popupContact").height();  		var popupWidth = $("#popupContact").width();  		$("#popupContact").css({  "position": "absolute",  "top": windowHeight/2-popupHeight/2,  			"left": windowWidth/2-popupWidth/2  });  		  		$("#backgroundPopup").css({  		"height": windowHeight  		});  		   	}  		function ajaxSubmit() {		var password=(document.getElementById("passwordparam")).value;		var password2=(document.getElementById("passwordparam2")).value;		if(password == password2)		{			var xmlhttp;			if (window.XMLHttpRequest)			  {// code for IE7+, Firefox, Chrome, Opera, Safari			  xmlhttp=new XMLHttpRequest();			  }			else			  {// code for IE6, IE5			  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");			  }			var name=(document.getElementById("nameparam")).value;				var email=(document.getElementById("emailparam")).value;						var file="signup.php?name="+name+"&email="+email+"&password="+password;						xmlhttp.onreadystatechange=function(){				if (xmlhttp.readyState==4 && xmlhttp.status==200){									alert(xmlhttp.responseText);				}								}						xmlhttp.open("GET", file, true);			xmlhttp.send();		}		else		{			alert("the passwords do not match");		}			}		//TABMENU	$(document).ready(function() {			//Get all the LI from the #tabMenu UL		$('#tabMenu > li').click(function(){					//remove the selected class from all LI    			$('#tabMenu > li').removeClass('selected');						//Reassign the LI			$(this).addClass('selected');			    			//Hide all the DIV in .boxBody			$('.boxBody div').hide();			    			//Look for the right DIV in boxBody according to the Navigation UL index, therefore, the arrangement is very important.			$('.boxBody div:eq(' + $('#tabMenu > li').index(this) + ')').slideDown('1500');		    		}).mouseover(function() {		//Add and remove class, Personally I dont think this is the right way to do it, anyone please suggest    		$(this).addClass('mouseover');		$(this).removeClass('mouseout');   		    		}).mouseout(function() {		    			//Add and remove class			$(this).addClass('mouseout');			$(this).removeClass('mouseover');    			    		});		//Mouseover with animate Effect for Category menu list		$('.boxBody #category li').mouseover(function() {			//Change background color and animate the padding			$(this).css('backgroundColor','#888');			$(this).children().animate({paddingLeft:"20px"}, {queue:false, duration:300});				}).mouseout(function() {		    			//Change background color and animate the padding			$(this).css('backgroundColor','');			$(this).children().animate({paddingLeft:"0"}, {queue:false, duration:300});		});  					//Mouseover effect for Posts, Comments, Famous Posts and Random Posts menu list.		$('.boxBody li').click(function(){			window.location = $(this).find("a").attr("href");		}).mouseover(function() {			$(this).css('backgroundColor','#888');		}).mouseout(function() {			$(this).css('backgroundColor','');		});  				});</script><body onload="init();"><?php if(!$cookie) {//or our login cookie ?>	<script type="text/javascript" charset="utf-8">		$(document).ready(function(){  			centerPopup();			//loadPopup();		});	</script><?php } ?>   <div id="scheduler_here" class="dhx_cal_container" style='width:900px; height:425px; position:absolute; top:175px; left:50px;padding-bottom:30px;'>      <div class="dhx_cal_navline">         <div class="dhx_cal_prev_button">&nbsp;</div>         <div class="dhx_cal_next_button">&nbsp;</div>         <div class="dhx_cal_today_button"></div>         <div class="dhx_cal_date"></div>         <div class="dhx_minical_icon" id="dhx_minical_icon" onclick="show_minical()">&nbsp;</div>         <div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div>         <div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div>         <div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>      </div>      <div class="dhx_cal_header">      </div>      <div class="dhx_cal_data">      </div>   </div>       <div id="popupContact">  	<div class="box">		<ul id="tabMenu">			<li class="signin selected">Sign In</li>			<li class="signup">Sign Up!</li>		</ul>		<div class="boxTop"></div>		<div class="boxBody">	  			<div id="signin" class="show">				<table>   					<tr>						<td><label for='email' style="font-size:12px" >Email:</label></td>						<td><input type='text' name='Email' id='email' style="width:200px"  maxlength="50" /></td>					</tr>					<tr>						<td><label for='password' style="font-size:12px" >Password:</label></td>						<td><input type='password' name='password' id='password' maxlength="100" style="width:200px" /></td>					</tr>					<tr>						<td/>						<td><input type="checkbox" name="remember" value="remember" style='float:left;'>							<label for='remember' style="font-size:12px; float:left;" >Remember Me</label>							<input type='submit' name='Submit' value='Log In' style="background-color:#F8D300; float:right;" /></td>					</tr>				</table>				<a href='' style='float:right; padding-right:15px; padding-top:5px;'>Forgot your password?</a>				<fb:login-button style='float:right; padding:5px 15px 0 0;'>Login with Facebook</fb:login-button>			</div>  		  			<div id="signup">				 <table>					<tr>						<td><label for='name' style="font-size:12px" >Full Name:</label></td>						<td><input type='text' name='name' id='nameparam' style="width:200px"  maxlength="50" /></td>					</tr>					<tr>						<td><label for='email' style="font-size:12px" >Email:</label></td>						<td><input type='text' name='email' id='emailparam' style="width:200px"  maxlength="50" /></td>					</tr>					<tr>						<td><label for='password' style="font-size:12px" >Password:</label></td>						<td><input type='password' name='password' id='passwordparam' maxlength="100" style="width:200px" /></td>					</tr>						<td><label for='password2' style="font-size:12px" >Confirm:</label></td>						<td><input type='password' name='password2' id='passwordparam2' maxlength="100" style="width:200px" /></td>					</tr>					<tr>						<td/>						<td><input type='submit' name='Submit' value='Submit' style="background-color:#F8D300; float:right;" onClick="ajaxSubmit();" /></td>					</tr>				</table>			</div>		</div>		<div class="boxBottom"></div>	</div>   </div><!--popup-->         <div id="backgroundPopup"></div>      <div id ="footer" class="footer">    </div>   </body>